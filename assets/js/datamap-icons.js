function datamap_icons(t,e,a){function i(t){return void 0!==t&&"undefined"!=typeof t.latitude&&"undefined"!=typeof t.longitude}var n=this,r=(this.options.fills,this.svg);if(!e||e&&!e.slice)throw"Datamaps Error - bubbles must be an array";var o=t.selectAll("image.datamaps-pins").data(e,JSON.stringify);o.enter().append("image").attr("class","datamaps-pin").attr("xlink:href","/assets/media/marker.png").attr("height",31.5).attr("width",21.5).attr("x",function(t){var e;if(i(t)?e=n.latLngToXY(t.latitude,t.longitude):t.centered&&(e=n.path.centroid(r.select("path."+t.centered).data()[0])),e)return e[0]}).attr("y",function(t){var e;if(i(t)?e=n.latLngToXY(t.latitude,t.longitude):t.centered&&(e=n.path.centroid(r.select("path."+t.centered).data()[0])),e)return e[1]}).on("mouseover",function(t){var e=d3.select(this);a.popupOnHover&&n.updatePopup(e,t,a,r)}).on("mouseout",function(){var t=d3.select(this);if(a.highlightOnHover){var e=JSON.parse(t.attr("data-previousAttributes"));for(var i in e)t.style(i,e[i])}d3.selectAll(".datamaps-hoverover").style("display","none")}).on("click",a.onClick),o.exit().transition().delay(a.exitDelay).attr("height",0).remove()}